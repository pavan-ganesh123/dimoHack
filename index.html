<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MetaMask Wallet Integration</title>
    <link src="app.js">
    <script src="https://cdn.jsdelivr.net/npm/web3@1.5.2/dist/web3.min.js"></script>
    
</head>

<body>
    <h1>MetaMask Wallet Integration</h1>
    <button id="connectWalletBtn">Connect MetaMask Wallet</button>
    <div id="walletInfo"></div>
    <div id="conversionRate"></div>

    
    <script>
        async function connectToMetaMask() {
            // Check if MetaMask is installed
            if (window.ethereum) {
                // Initialize Web3.js
                window.web3 = new Web3(window.ethereum);
                
                try {
                    // Request access to the user's MetaMask accounts
                    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
                    
                    // Display connected wallet address
                    document.getElementById('walletInfo').innerText = `Connected Wallet: ${accounts[0]}`;
                    
                    // Fetch current ETH to USD conversion rate (example using CoinGecko API)
                    const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd');
                    const data = await response.json();
                    const ethToUsdRate = data.ethereum.usd;
                    document.getElementById('conversionRate').innerText = `ETH to USD Rate: ${ethToUsdRate}`;
                    
                    // Display popup message
                    alert('MetaMask wallet connected successfully!');
                } catch (error) {
                    console.error(error);
                    alert('Failed to connect MetaMask wallet or fetch conversion rate.');
                }
            } else {
                alert('MetaMask extension not detected. Please install MetaMask to use this feature.');
            }
        }

        // Add event listener to connect wallet button
        document.getElementById('connectWalletBtn').addEventListener('click', connectToMetaMask);
    </script>
</body>
</html>